<sml:AggregateProcess xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sml="http://www.opengis.net/sensorml/2.0" xmlns:swe="http://www.opengis.net/swe/2.0" xmlns:gml="http://www.opengis.net/gml/3.2" xmlns:gco="http://www.isotc211.org/2005/gco" xmlns:gmd="http://www.isotc211.org/2005/gmd" gml:id="F1">
    <gml:identifier codeSpace="uid">464f6db2-88a9-49b5-9232-987ae2bbadb1</gml:identifier>
    <sml:typeOf xlink:href="urn:osh:process:pi-bot:searchlight"/>
    <sml:inputs>
        <sml:InputList>
            <sml:input name="valueIn">
                <swe:DataRecord>
                    <swe:label>Remote Button</swe:label>
                    <swe:field name="time">
                        <swe:Time definition="http://www.opengis.net/def/property/OGC/0/SamplingTime" referenceFrame="http://www.opengis.net/def/trs/BIPM/0/UTC">
                            <swe:label>Sampling Time</swe:label>
                            <swe:uom xlink:href="http://www.opengis.net/def/uom/ISO-8601/0/Gregorian"/>
                        </swe:Time>
                    </swe:field>
                    <swe:field name="one">
                        <swe:Boolean id="IN_BUTTON_ONE" definition="http://sensorml.com/ont/swe/property/button1">
                            <swe:label>Input Button One</swe:label>
                        </swe:Boolean>
                    </swe:field>
                </swe:DataRecord>
            </sml:input>
        </sml:InputList>
    </sml:inputs>
    <sml:outputs>
        <sml:OutputList>
            <sml:output name="valueOut">
                <swe:DataRecord>
                    <swe:label>SearchlightSensor</swe:label>
                    <swe:field name="time">
                        <swe:Time definition="http://www.opengis.net/def/property/OGC/0/SamplingTime" referenceFrame="http://www.opengis.net/def/trs/BIPM/0/UTC">
                            <swe:label>Sampling Time</swe:label>
                            <swe:uom xlink:href="http://www.opengis.net/def/uom/ISO-8601/0/Gregorian"/>
                        </swe:Time>
                    </swe:field>
                    <swe:field name="Color">
                        <swe:Category id="RGB_OUTPUT_COLOR" definition="http://sensorml.com/ont/swe/property/Color">
                            <swe:label>RBG Color</swe:label>
                            <swe:constraint>
                                <swe:AllowedTokens>
                                    <swe:value>OFF</swe:value>
                                    <swe:value>WHITE</swe:value>
                                    <swe:value>RED</swe:value>
                                    <swe:value>MAGENTA</swe:value>
                                    <swe:value>BLUE</swe:value>
                                    <swe:value>CYAN</swe:value>
                                    <swe:value>GREEN</swe:value>
                                    <swe:value>YELLOW</swe:value>
                                    <swe:value>UNKNOWN</swe:value>
                                </swe:AllowedTokens>
                            </swe:constraint>
                        </swe:Category>
                    </swe:field>
                </swe:DataRecord>
            </sml:output>
        </sml:OutputList>
    </sml:outputs>

    <sml:components>
        <sml:ComponentList>
            <sml:component name="source0">
                <sml:SimpleProcess gml:id="F1">
                    <gml:identifier codeSpace="uid">urn:osh:sensor:wii001</gml:identifier>
                    <sml:typeOf xlink:href="urn:osh:process:datasource:datastream"></sml:typeOf>
                    <sml:configuration>
                        <sml:Settings>
                            <sml:setValue ref="parameters/systemUID">urn:sensors:sensor:wii001</sml:setValue>
                            <sml:setValue ref="parameters/outputName">buttonState</sml:setValue>
                        </sml:Settings>
                    </sml:configuration>
                </sml:SimpleProcess>
            </sml:component>
            <sml:component name="searchlight">
                <sml:SimpleProcess gml:id="F2">
                    <gml:identifier codeSpace="uid">urn:pibot:searchlight</gml:identifier>
                    <sml:typeOf xlink:href="urn:osh:process:pibot:SearchLight"></sml:typeOf>
                    <sml:configuration>
                        <sml:Settings>
                            <sml:setValue ref="parameters/systemUID">urn:pibot:searchlight</sml:setValue>
                            <sml:setValue ref="parameters/inputName">cmd1</sml:setValue>
                        </sml:Settings>
                    </sml:configuration>
                </sml:SimpleProcess>
            </sml:component>
        </sml:ComponentList>
    </sml:components>

    <sml:connections>
        <sml:ConnectionList>
            <sml:connection>
                <sml:Link>
                    <sml:source ref="components/source0/outputs/lightColor/button1"/>
                    <sml:destination ref="components/buttonSRC/inputs/button/one"/>
                </sml:Link>
            </sml:connection>
            <sml:connection>
                <sml:Link>
                    <sml:source ref="components/searchlightSRC/outputs/searchlight/Color"/>
                    <sml:destination ref="outputs/valueOut/Color"/>
                </sml:Link>
            </sml:connection>
            <sml:connection>
                <sml:Link>
                    <sml:source ref="components/buttonSRC/inputs/valueIn/time"/>
                    <sml:destination ref="components/searchlightSRC/outputs/valueOut/time"/>
                </sml:Link>
            </sml:connection>
        </sml:ConnectionList>
    </sml:connections>
</sml:AggregateProcess>